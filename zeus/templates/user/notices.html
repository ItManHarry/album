{% extends 'base.html' %}
{% block title %}{{ user.name }}-消息中心{% endblock %}
{% block main %}
<div class = "container-fluid">
    <table class="table table-hover">
        <thead>
            <tr class="text-center">
                <th>#</th>
                <th>消息</th>
                <th>状态</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% if notices %}
                {% for notice in notices %}
                    <tr class="text-center">
                        <td>{{ loop.index }}</td>
                        <td>{{ notice.message|truncate(length=20) }}</td>
                        <td>{{ '已读' if notice.is_read else '未读'}}</td>
                        <td>
                            <a href="{{ url_for('user.notice_show', notice_id=notice.id) }}" class="btn btn-outline-info btn-sm" data-container="body" data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Read"><i class="fab fa-readme"></i></a>
                            <a class="btn btn-outline-danger btn-sm"  data-container="body" data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Delete"><i class="far fa-trash-alt"></i></a>
                        </td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="4" class="text-center">
                        <h5>暂未收到任何消息!!!</h5>
                    </td>
                </tr>
            {% endif %}
        </tbody>
    </table>
</div>
{%endblock%}
<script>
    {% block ready %}
        $(function(){
            $('[data-toggle="popover"]').popover()
        })
    {% endblock %}
</script>